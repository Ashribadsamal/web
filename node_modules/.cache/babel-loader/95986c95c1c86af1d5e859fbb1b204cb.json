{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Dell\\\\Desktop\\\\web\\\\react\\\\myapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Dell\\\\Desktop\\\\web\\\\react\\\\myapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\Dell\\\\Desktop\\\\web\\\\react\\\\myapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Dell\\\\Desktop\\\\web\\\\react\\\\myapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';//import {Link} from 'react-router-dom';\n//city name\n//const resturl = \"http://localhost:8900/resturanthome?cityname=\";\n//city as id\nvar cityurl=\"http://localhost:8900/city\";var resturl=\"http://localhost:8900/resturanthome?city=\";var Search=/*#__PURE__*/function(_Component){_inherits(Search,_Component);var _super=_createSuper(Search);function Search(props){var _this;_classCallCheck(this,Search);_this=_super.call(this,props);_this.handleCity=function(event){_this.setState({resturant:\"\"});_this.setState({city:event.target.value});var cityid=parseInt(event.target.value);//cityid as number\n//var cityid=(event.target.value)//cityid as name\nsessionStorage.setItem('cityid',event.target.value);//console.log(`${resturl}${cityid}`)\nfetch(\"\".concat(resturl).concat(cityid),{method:'GET'}).then(function(res){return res.json();}).then(function(data){_this.setState({resturant:data});});};_this.renderDatacity=function(result){if(result){return result.map(function(item){return/*#__PURE__*/React.createElement(\"option\",{value:item.city},item.name);});}};_this.renderrest=function(data){if(data){return data.map(function(item){return/*#__PURE__*/React.createElement(\"option\",{value:item._id},item.name,\" | \",item.locality);});}};_this.handleResturant=function(event){_this.props.restid(\"\".concat(Number(event.target.value)));//console.log(`${Number(event.target.value)}`)\n};_this.state={location:\"\",City:'',resturant:\"\"};return _this;}_createClass(Search,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"header\",null,/*#__PURE__*/React.createElement(\"center\",null,/*#__PURE__*/React.createElement(\"select\",{class:\"locationdropdown\",onChange:this.handleCity},/*#__PURE__*/React.createElement(\"option\",{value:\"0\"},\"Select city\"),this.renderDatacity(this.state.location)),\"\\xA0 \\xA0\",/*#__PURE__*/React.createElement(\"select\",{class:\"resturantinput\",onChange:this.handleResturant},/*#__PURE__*/React.createElement(\"option\",{value:\"0\"},\"Select Resturant\"),this.renderrest(this.state.resturant))));}},{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetch(cityurl,{method:'GET'}).then(function(res){return res.json();}).then(function(data){_this2.setState({location:data});});}}]);return Search;}(Component);export default Search;","map":{"version":3,"sources":["C:/Users/Dell/Desktop/web/react/myapp/src/component/Search.js"],"names":["React","Component","cityurl","resturl","Search","props","handleCity","event","setState","resturant","city","target","value","cityid","parseInt","sessionStorage","setItem","fetch","method","then","res","json","data","renderDatacity","result","map","item","name","renderrest","_id","locality","handleResturant","restid","Number","state","location","City"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\n//import {Link} from 'react-router-dom';\n\n\n\n//city name\n//const resturl = \"http://localhost:8900/resturanthome?cityname=\";\n\n\n//city as id\n\nconst cityurl=\"http://localhost:8900/city\";\nconst resturl=\"http://localhost:8900/resturanthome?city=\";\n\nclass Search extends Component{\n    constructor(props){\n        super(props)\n        this.state={\n            \n            location:\"\",\n            City:'',\n            resturant:\"\"\n        }\n    }\n     \n     handleCity=(event)=>{\n         this.setState({resturant:\"\"})\n         this.setState({city:event.target.value})\n         var cityid=parseInt(event.target.value)//cityid as number\n         //var cityid=(event.target.value)//cityid as name\n         sessionStorage.setItem('cityid',event.target.value)\n         //console.log(`${resturl}${cityid}`)\n         fetch(`${resturl}${cityid}`,{method:'GET'})\n         .then((res)=>res.json())\n         .then((data)=>{\n             this.setState({resturant:data})\n         })\n\n     }\n\n     renderDatacity=(result)=>{\n           if(result){\n               return result.map((item)=>{\n                   return(\n\n                       <option value={item.city}>{/*{item.name}*/}\n                         {item.name}\n                       </option>\n                   )\n               })\n           }\n     }\n     renderrest=(data)=>{\n         if(data){\n             return data.map((item)=>{\n                 return(\n                     <option value={item._id}>\n                        {item.name} | {item.locality}\n                     </option>\n                 )\n             })\n         }\n     }\n\n     handleResturant=(event)=>{\n         this.props.restid(`${Number(event.target.value)}`)\n         //console.log(`${Number(event.target.value)}`)\n     }\n\n    render(){\n        return(\n           \n                <header>\n                    <center>\n                        \n                        <select class=\"locationdropdown\"  onChange={this.handleCity} >\n                        <option value='0'>Select city</option>\n                           {this.renderDatacity(this.state.location)}\n                        </select>\n                    &nbsp;\n                    &nbsp;\n                     \n                \n                     <select class=\"resturantinput\"     onChange={this.handleResturant}>\n                     <option value='0'>Select Resturant</option>\n                        \n                       {this.renderrest(this.state.resturant)}\n\n                     </select>\n                    </center>\n                    \n                </header>\n                \n               \n        )\n    }\n    componentDidMount(){\n        fetch(cityurl,{method:'GET'})\n        .then((res)=>res.json())\n        .then((data)=>{\n           this.setState({location:data})\n        })\n    }\n    \n}\n\nexport default Search;"]},"metadata":{},"sourceType":"module"}