{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dell\\\\Desktop\\\\web\\\\react\\\\myapp\\\\src\\\\component\\\\Search.js\";\nimport React, { Component } from 'react'; //import {Link} from 'react-router-dom';\n//city name\n//const resturl = \"http://localhost:8900/resturanthome?cityname=\";\n//city as id\n\nconst cityurl = \"http://localhost:8900/city\";\nconst resturl = \"http://localhost:8900/resturanthome?city=\";\n\nclass Search extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleCity = event => {\n      this.setState({\n        resturant: \"\"\n      });\n      this.setState({\n        city: event.target.value\n      });\n      var cityid = parseInt(event.target.value); //cityid as number\n      //var cityid=(event.target.value)//cityid as name\n\n      sessionStorage.setItem('cityid', event.target.value); //console.log(`${resturl}${cityid}`)\n\n      fetch(`${resturl}${cityid}`, {\n        method: 'GET'\n      }).then(res => res.json()).then(data => {\n        this.setState({\n          resturant: data\n        });\n      });\n    };\n\n    this.renderDatacity = result => {\n      if (result) {\n        return result.map(item => {\n          return /*#__PURE__*/React.createElement(\"option\", {\n            value: item.city,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 24\n            }\n          }, item.name);\n        });\n      }\n    };\n\n    this.renderrest = data => {\n      if (data) {\n        return data.map(item => {\n          return /*#__PURE__*/React.createElement(\"option\", {\n            value: item._id,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 22\n            }\n          }, item.name, \" | \", item.locality);\n        });\n      }\n    };\n\n    this.handleResturant = event => {\n      this.props.restid(`${Number(event.target.value)}`); //console.log(`${Number(event.target.value)}`)\n    };\n\n    this.state = {\n      location: \"\",\n      City: '',\n      resturant: \"\"\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"header\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"center\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      class: \"locationdropdown\",\n      onChange: this.handleCity,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 25\n      }\n    }, \"Select city\"), this.renderDatacity(this.state.location)), \"\\xA0 \\xA0\", /*#__PURE__*/React.createElement(\"select\", {\n      class: \"resturantinput\",\n      onChange: this.handleResturant,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 22\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 22\n      }\n    }, \"Select Resturant\"), this.renderrest(this.state.resturant))));\n  }\n\n  componentDidMount() {\n    fetch(cityurl, {\n      method: 'GET'\n    }).then(res => res.json()).then(data => {\n      this.setState({\n        location: data\n      });\n    });\n  }\n\n}\n\nexport default Search;","map":{"version":3,"sources":["C:/Users/Dell/Desktop/web/react/myapp/src/component/Search.js"],"names":["React","Component","cityurl","resturl","Search","constructor","props","handleCity","event","setState","resturant","city","target","value","cityid","parseInt","sessionStorage","setItem","fetch","method","then","res","json","data","renderDatacity","result","map","item","name","renderrest","_id","locality","handleResturant","restid","Number","state","location","City","render","componentDidMount"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\n//import {Link} from 'react-router-dom';\n\n\n\n//city name\n//const resturl = \"http://localhost:8900/resturanthome?cityname=\";\n\n\n//city as id\n\nconst cityurl=\"http://localhost:8900/city\";\nconst resturl=\"http://localhost:8900/resturanthome?city=\";\n\nclass Search extends Component{\n    constructor(props){\n        super(props)\n        this.state={\n            \n            location:\"\",\n            City:'',\n            resturant:\"\"\n        }\n    }\n     \n     handleCity=(event)=>{\n         this.setState({resturant:\"\"})\n         this.setState({city:event.target.value})\n         var cityid=parseInt(event.target.value)//cityid as number\n         //var cityid=(event.target.value)//cityid as name\n         sessionStorage.setItem('cityid',event.target.value)\n         //console.log(`${resturl}${cityid}`)\n         fetch(`${resturl}${cityid}`,{method:'GET'})\n         .then((res)=>res.json())\n         .then((data)=>{\n             this.setState({resturant:data})\n         })\n\n     }\n\n     renderDatacity=(result)=>{\n           if(result){\n               return result.map((item)=>{\n                   return(\n\n                       <option value={item.city}>{/*{item.name}*/}\n                         {item.name}\n                       </option>\n                   )\n               })\n           }\n     }\n     renderrest=(data)=>{\n         if(data){\n             return data.map((item)=>{\n                 return(\n                     <option value={item._id}>\n                        {item.name} | {item.locality}\n                     </option>\n                 )\n             })\n         }\n     }\n\n     handleResturant=(event)=>{\n         this.props.restid(`${Number(event.target.value)}`)\n         //console.log(`${Number(event.target.value)}`)\n     }\n\n    render(){\n        return(\n           \n                <header>\n                    <center>\n                        \n                        <select class=\"locationdropdown\"  onChange={this.handleCity} >\n                        <option value='0'>Select city</option>\n                           {this.renderDatacity(this.state.location)}\n                        </select>\n                    &nbsp;\n                    &nbsp;\n                     \n                \n                     <select class=\"resturantinput\"     onChange={this.handleResturant}>\n                     <option value='0'>Select Resturant</option>\n                        \n                       {this.renderrest(this.state.resturant)}\n\n                     </select>\n                    </center>\n                    \n                </header>\n                \n               \n        )\n    }\n    componentDidMount(){\n        fetch(cityurl,{method:'GET'})\n        .then((res)=>res.json())\n        .then((data)=>{\n           this.setState({location:data})\n        })\n    }\n    \n}\n\nexport default Search;"]},"metadata":{},"sourceType":"module"}